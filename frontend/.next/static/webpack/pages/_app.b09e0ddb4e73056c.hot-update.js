"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/services/auth.ts":
/*!******************************!*\
  !*** ./src/services/auth.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* reexport safe */ _config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   googleSignIn: () => (/* binding */ googleSignIn),\n/* harmony export */   initAuthStateListener: () => (/* binding */ initAuthStateListener),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config_firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/firebase */ \"./src/config/firebase.ts\");\n\n\n\nconst login = async (email, password)=>{\n    try {\n        console.log('Attempting login with:', {\n            email\n        });\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithEmailAndPassword)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n        // Create or update user profile in Firestore\n        await updateUserProfile(userCredential);\n        return userCredential;\n    } catch (error) {\n        console.error('Auth Error:', error);\n        throw error;\n    }\n};\nconst googleSignIn = async ()=>{\n    try {\n        const provider = new firebase_auth__WEBPACK_IMPORTED_MODULE_0__.GoogleAuthProvider();\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithPopup)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, provider);\n        // Create or update user profile in Firestore\n        await updateUserProfile(userCredential);\n        return userCredential;\n    } catch (error) {\n        console.error('Google Sign In Error:', error);\n        throw error;\n    }\n};\nconst updateUserProfile = async (userCredential)=>{\n    var _user_email;\n    const { user } = userCredential;\n    const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', user.uid);\n    const userSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userRef);\n    const userProfile = {\n        uid: user.uid,\n        email: user.email || '',\n        displayName: user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || '',\n        photoURL: user.photoURL || '',\n        role: 'client',\n        updatedAt: new Date()\n    };\n    if (!userSnapshot.exists()) {\n        // New user\n        userProfile.createdAt = new Date();\n    }\n    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userRef, {\n        ...userProfile,\n        createdAt: userProfile.createdAt || (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n        updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n    }, {\n        merge: true\n    });\n    return userProfile;\n};\nconst getUserProfile = async (uid)=>{\n    try {\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', uid);\n        const userSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userRef);\n        if (!userSnapshot.exists()) {\n            return null;\n        }\n        const userData = userSnapshot.data();\n        return {\n            ...userData,\n            createdAt: userData.createdAt ? new Date(userData.createdAt) : undefined,\n            updatedAt: userData.updatedAt ? new Date(userData.updatedAt) : undefined\n        };\n    } catch (error) {\n        console.error('Error fetching user profile:', error);\n        throw error;\n    }\n};\nconst register = async (email, password, displayName, userType)=>{\n    try {\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.createUserWithEmailAndPassword)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n        const { user } = userCredential;\n        // Update the user's display name\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.updateProfile)(user, {\n            displayName\n        });\n        // Create user profile in Firestore\n        const userProfile = {\n            uid: user.uid,\n            email: user.email || '',\n            displayName,\n            role: userType,\n            photoURL: user.photoURL || '',\n            createdAt: new Date(),\n            updatedAt: new Date()\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.db, 'users', user.uid), {\n            ...userProfile,\n            createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        });\n        return userCredential;\n    } catch (error) {\n        console.error('Registration Error:', error);\n        throw error;\n    }\n};\nconst resetPassword = async (email)=>{\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.sendPasswordResetEmail)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, email);\n    } catch (error) {\n        console.error('Password Reset Error:', error);\n        throw error;\n    }\n};\nconst logout = async ()=>{\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signOut)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth);\n    } catch (error) {\n        console.error('Logout Error:', error);\n        throw error;\n    }\n};\nconst signOut = async ()=>{\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signOut)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth);\n    } catch (error) {\n        console.error('Sign Out Error:', error);\n        throw error;\n    }\n};\n// Listen to auth state changes\nconst initAuthStateListener = (callback)=>{\n    return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.onAuthStateChanged)(_config_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, (user)=>{\n        console.log('Auth State Changed:', user ? 'User logged in' : 'User logged out');\n        callback(user);\n    });\n};\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT3hDLGlFQUFrQkEsQ0FBQ0ssa0RBQUlBLEVBQUUsQ0FBQ1k7UUFDL0JQLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJNLE9BQU8sbUJBQW1CO1FBQzdEdUIsU0FBU3ZCO0lBQ1g7QUFDRixFQUFFO0FBRWMiLCJzb3VyY2VzIjpbImM6XFxVc2Vyc1xcQWlNYXN0ZXJcXERlc2t0b3BcXEhvbWVcXE5leFByb0xpbmtfcHJvamVjdFxcZnJvbnRlbmRcXHNyY1xcc2VydmljZXNcXGF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXG4gIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLCBcbiAgc2lnbk91dCBhcyBmaXJlYmFzZVNpZ25PdXQsXG4gIEdvb2dsZUF1dGhQcm92aWRlcixcbiAgc2lnbkluV2l0aFBvcHVwLFxuICBVc2VyQ3JlZGVudGlhbCxcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBzZW5kUGFzc3dvcmRSZXNldEVtYWlsLFxuICB1cGRhdGVQcm9maWxlLFxuICBvbkF1dGhTdGF0ZUNoYW5nZWRcbn0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBkb2MsIHNldERvYywgZ2V0RG9jLCBzZXJ2ZXJUaW1lc3RhbXAgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgYXV0aCwgZGIgfSBmcm9tICcuLi9jb25maWcvZmlyZWJhc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJQcm9maWxlIHtcbiAgdWlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHJvbGU/OiAnY2xpZW50JyB8ICdleHBlcnQnO1xuICBwaG90b1VSTD86IHN0cmluZztcbiAgY3JlYXRlZEF0PzogRGF0ZTtcbiAgdXBkYXRlZEF0PzogRGF0ZTtcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgbG9naW4gd2l0aDonLCB7IGVtYWlsIH0pO1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgb3IgdXBkYXRlIHVzZXIgcHJvZmlsZSBpbiBGaXJlc3RvcmVcbiAgICBhd2FpdCB1cGRhdGVVc2VyUHJvZmlsZSh1c2VyQ3JlZGVudGlhbCk7XG4gICAgXG4gICAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggRXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ29vZ2xlU2lnbkluID0gYXN5bmMgKCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gICAgXG4gICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSB1c2VyIHByb2ZpbGUgaW4gRmlyZXN0b3JlXG4gICAgYXdhaXQgdXBkYXRlVXNlclByb2ZpbGUodXNlckNyZWRlbnRpYWwpO1xuICAgIFxuICAgIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgU2lnbiBJbiBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZVVzZXJQcm9maWxlID0gYXN5bmMgKHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbCk6IFByb21pc2U8VXNlclByb2ZpbGU+ID0+IHtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VyQ3JlZGVudGlhbDtcbiAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xuICBjb25zdCB1c2VyU25hcHNob3QgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XG5cbiAgY29uc3QgdXNlclByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xuICAgIHVpZDogdXNlci51aWQsXG4gICAgZW1haWw6IHVzZXIuZW1haWwgfHwgJycsXG4gICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnJyxcbiAgICBwaG90b1VSTDogdXNlci5waG90b1VSTCB8fCAnJyxcbiAgICByb2xlOiAnY2xpZW50JywgLy8gRGVmYXVsdCByb2xlXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICB9O1xuXG4gIGlmICghdXNlclNuYXBzaG90LmV4aXN0cygpKSB7XG4gICAgLy8gTmV3IHVzZXJcbiAgICB1c2VyUHJvZmlsZS5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgYXdhaXQgc2V0RG9jKHVzZXJSZWYsIHtcbiAgICAuLi51c2VyUHJvZmlsZSxcbiAgICBjcmVhdGVkQXQ6IHVzZXJQcm9maWxlLmNyZWF0ZWRBdCB8fCBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuXG4gIHJldHVybiB1c2VyUHJvZmlsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyUHJvZmlsZSA9IGFzeW5jICh1aWQ6IHN0cmluZyk6IFByb21pc2U8VXNlclByb2ZpbGUgfCBudWxsPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdWlkKTtcbiAgICBjb25zdCB1c2VyU25hcHNob3QgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XG5cbiAgICBpZiAoIXVzZXJTbmFwc2hvdC5leGlzdHMoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VyU25hcHNob3QuZGF0YSgpIGFzIFVzZXJQcm9maWxlO1xuICAgIHJldHVybiB7XG4gICAgICAuLi51c2VyRGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogdXNlckRhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUodXNlckRhdGEuY3JlYXRlZEF0IGFzIGFueSkgOiB1bmRlZmluZWQsXG4gICAgICB1cGRhdGVkQXQ6IHVzZXJEYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKHVzZXJEYXRhLnVwZGF0ZWRBdCBhcyBhbnkpIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nLFxuICBkaXNwbGF5TmFtZTogc3RyaW5nLFxuICB1c2VyVHlwZTogJ2NsaWVudCcgfCAnZXhwZXJ0J1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAgY29uc3QgeyB1c2VyIH0gPSB1c2VyQ3JlZGVudGlhbDtcblxuICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIGRpc3BsYXkgbmFtZVxuICAgIGF3YWl0IHVwZGF0ZVByb2ZpbGUodXNlciwgeyBkaXNwbGF5TmFtZSB9KTtcblxuICAgIC8vIENyZWF0ZSB1c2VyIHByb2ZpbGUgaW4gRmlyZXN0b3JlXG4gICAgY29uc3QgdXNlclByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xuICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8ICcnLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICByb2xlOiB1c2VyVHlwZSxcbiAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMIHx8ICcnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfTtcblxuICAgIGF3YWl0IHNldERvYyhkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKSwge1xuICAgICAgLi4udXNlclByb2ZpbGUsXG4gICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1JlZ2lzdHJhdGlvbiBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFBhc3N3b3JkID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKGF1dGgsIGVtYWlsKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCBSZXNldCBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBsb2dvdXQgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZmlyZWJhc2VTaWduT3V0KGF1dGgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IGZpcmViYXNlU2lnbk91dChhdXRoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTaWduIE91dCBFcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIExpc3RlbiB0byBhdXRoIHN0YXRlIGNoYW5nZXNcbmV4cG9ydCBjb25zdCBpbml0QXV0aFN0YXRlTGlzdGVuZXIgPSAoY2FsbGJhY2s6ICh1c2VyOiBhbnkpID0+IHZvaWQpID0+IHtcbiAgcmV0dXJuIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdBdXRoIFN0YXRlIENoYW5nZWQ6JywgdXNlciA/ICdVc2VyIGxvZ2dlZCBpbicgOiAnVXNlciBsb2dnZWQgb3V0Jyk7XG4gICAgY2FsbGJhY2sodXNlcik7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgYXV0aCB9O1xuIl0sIm5hbWVzIjpbInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbk91dCIsImZpcmViYXNlU2lnbk91dCIsIkdvb2dsZUF1dGhQcm92aWRlciIsInNpZ25JbldpdGhQb3B1cCIsImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCJ1cGRhdGVQcm9maWxlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiZG9jIiwic2V0RG9jIiwiZ2V0RG9jIiwic2VydmVyVGltZXN0YW1wIiwiYXV0aCIsImRiIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiY29uc29sZSIsImxvZyIsInVzZXJDcmVkZW50aWFsIiwidXBkYXRlVXNlclByb2ZpbGUiLCJlcnJvciIsImdvb2dsZVNpZ25JbiIsInByb3ZpZGVyIiwidXNlciIsInVzZXJSZWYiLCJ1aWQiLCJ1c2VyU25hcHNob3QiLCJ1c2VyUHJvZmlsZSIsImRpc3BsYXlOYW1lIiwic3BsaXQiLCJwaG90b1VSTCIsInJvbGUiLCJ1cGRhdGVkQXQiLCJEYXRlIiwiZXhpc3RzIiwiY3JlYXRlZEF0IiwibWVyZ2UiLCJnZXRVc2VyUHJvZmlsZSIsInVzZXJEYXRhIiwiZGF0YSIsInVuZGVmaW5lZCIsInJlZ2lzdGVyIiwidXNlclR5cGUiLCJyZXNldFBhc3N3b3JkIiwibG9nb3V0IiwiaW5pdEF1dGhTdGF0ZUxpc3RlbmVyIiwiY2FsbGJhY2siXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/services/auth.ts\n"));

/***/ })

});